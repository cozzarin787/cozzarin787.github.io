<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Computational Geometry Project Page</title>
</head>
<body>
    <h1>KD-Tree Pedagogical Aid</h1>
    <h2>Team Members:</h2>
    <p style="text-indent: 50px;">Jacob Cozzarin</p>

    <h2>Problem Description:</h2>
    <p style="text-indent: 50px;">Develop a pedagogical aid using three.js to showcase the building and maintaining of a kd-tree on a dynamic scene. The scene will be interactable and allow the user to place and move objects, showing the divisions in the scene created by the kd-tree algorithm. Possibly add a pedagogical aid for when a ray is shot into the world and visualize the tests run on the kd-tree in respect to the world.</p>
    
    <h2>Background information:</h2>
    <p style="text-indent: 50px;">A vital part of game development and graphics rendering is the ability to quickly compute intersection testing with objects in the scene. One of the best ways of reducing the amount intersection tests that need to be done is to organize/sort objects in the scene so test don't need to be performed unnecssarily if the objects aren't being hit. One way to organize/sort objects in the scene is by constructing a kd-tree and storing information for traversal to find the objects that need to be intersection tested. A visual tool can be used to help visualize a constructed kd-tree implementation and where the partition planes would lie in the scene. Possibly an added feature to spawn a ray and show how it traverses the kd-tree in respect to the world.</p>

    <h2>Pseudo-code:</h2>
    <h3>Build Kd-tree:</h3>
    <ul>
        <li>Node getNode (List of primitives L, Voxel V):</li>
        <ul>
            <li>if (Terminal (L, V)) return new leaf node (L)</li>
            <li>Find partition plane P</li>
            <li>Split V with P producing V_front and V_rear</li>
            <li>Partition elements of L producing L_front and L_rear</li>
            <li>return new interior node (P, getNode(L_front, v_front), getNode (L_front, v_front))</li>
        </ul>
        <li>First call to getNode with the full list of primitives and world voxel will return the fully built kd-tree</li>
    </ul>
    <h3>Add to Kd-tree:</h3>
    <ul>
        <li>insert(primitive p, Node kd-tree):</li>
        <ul>
            <li>search for leaf node in kd-tree that will hold p</li>
            <li>if (leaf node has space): insert p into primitive list L of node</li>
            <li>else</li>
            <ul>
                <li>choose a partition plane P</li>
                <li>Split voxel V in node with P producing V_front and V_rear</li>
                <li>Partition elements of L producing L_front and L_rear</li>
                <li>replace leaf node with internal node</li>
                <li>internal front = L_front, internal rear = L_rear</li>
            </ul>
        </ul>
        <li>I will be animating and displaying the partitioning planes as objects are moved and added to the scene.</li>
    </ul>

    <h2>Interesting Choices (Algorithm):</h2>
    <ul>
        <li>I plan on implementing the plane partitioning using a surface area heuristic algorithm to find optimal splits to balance the kd-tree. The surface area heuristic can also guide when to terminate a branch of a tree when the cost of spliting further is too high.</li>
    </ul>

    <h2>Timeline:</h2>
    <table border="1" width="100%" cellspacing="2" cellpadding="2" height="494">
      <tbody>
        <tr align="center">
          <td valign="middle" align="center">Week<br>
          </td>
          <td valign="middle" align="center">Deliverables and Plans for the Week<br>
          </td>
        </tr>
          <td valign="middle" align="center">4<br>
          </td>
          <td valign="middle" align="center">
                Complete project proposal and begin research on kd-tree implementation and visualization
          </td>
        </tr>
        <tr align="center">
          <td valign="middle" align="center">5<br>
          </td>
          <td valign="middle" align="center">
              Continue research on kd-tree implementation and visualization. Begin framework for adding and moving objects in scene.
          </td>
        </tr>
        <tr align="center">
          <td valign="middle" align="center">6<br>
          </td>
          <td valign="middle" align="center">
              Continue work on framework for adding and moving objects.
          </td>
        </tr>
        <tr align="center">
        <td valign="middle" align="center">7<br>
        </td>
            <td valign="middle" align="center">
                Continue work on framework for adding and moving objects. Begin addition of basic kd-tree building and maintenance.
            </td>
        </tr>
        <tr align="center">
          <td valign="middle" align="center">8<br>
          </td>
          <td valign="middle" align="center">
              Finish basic framework for adding and moving objects. Continue work on basic kd-tree implementation.
          </td>
        </tr>
        <tr align="center">
          <td valign="middle" align="center">9<br>
          </td>
          <td valign="middle" align="center">
              Finish work on basic kd-tree implementation. Begin visualization of partition planes.
          </td>
        </tr>
        <tr align="center">
          <td valign="middle" align="center">10<br>
          </td>
          <td valign="middle" align="center">
              Finish visualization of partition planes. Prepare presentation for next week.
          </td>
        </tr>
        <tr>
          <td valign="middle" bgcolor="#ffffff" align="center">11<br>
          </td>
          <td valign="middle" bgcolor="#ffffff" align="center">
              Present project. Begin work on Surface Area Heuristic plane partitioning
          </td>
        </tr>
        <tr align="center">
          <td valign="middle" align="center">12<br>
          </td>
          <td valign="middle" align="center">
              Continue work on Surface Area Heuristic plane partitioning
          </td>
        </tr>
        <tr align="center">
          <td valign="middle" bgcolor="#ffffff" align="center">13<br>
          </td>
          <td valign="middle" bgcolor="#ffffff" align="center">
              Finish work on Surface Area Heuristic plane partitioning. 
          </td>
        </tr>
        <tr align="center">
          <td valign="middle" align="center">14<br>
          </td>
          <td valign="middle" align="center">
              Work on and complete kd-tree maintenance when objects move in the scene.
          </td>
        </tr>
        <tr align="center">
          <td valign="middle" bgcolor="#ffffff" align="center">15<br>
          </td>
          <td valign="middle" bgcolor="#ffffff" align="center">
                Prepare final presentation and final debugging/enhancements
          </td>
        </tr>
      </tbody>
    </table>
    <h2>References:</h2>
    <ul>
        <li>Professor Joe Geigel's Global Illumination slides</li>
        <li><a href="http://homes.ieu.edu.tr/~hakcan/projects/kdtree/kdTree.html">Kd-Tree Applet Demo Page</a></li>
        <li><a href="https://dl.acm.org/citation.cfm?doid=1457515.1409079">Real-time KD-tree constrution on graphics hardware</a></li>
    </ul>
</body>
</html>